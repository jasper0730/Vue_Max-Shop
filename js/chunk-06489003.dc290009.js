(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06489003"],{"4dcd":function(e,t,c){"use strict";var o=function(e){return{all:e=e||new Map,on:function(t,c){var o=e.get(t);o?o.push(c):e.set(t,[c])},off:function(t,c){var o=e.get(t);o&&(c?o.splice(o.indexOf(c)>>>0,1):e.set(t,[]))},emit:function(t,c){var o=e.get(t);o&&o.slice().map((function(e){e(c)})),(o=e.get("*"))&&o.slice().map((function(e){e(t,c)}))}}},a=o();t["a"]=a},5257:function(e,t,c){"use strict";c.r(t);var o=c("7a23"),a={class:"container py-3"},n={class:"row"},r={class:"col-md-3 col-sm-4 col"},l=Object(o["createElementVNode"])("option",{selected:""},"全部",-1),i=Object(o["createElementVNode"])("option",null,"淡雅",-1),d=Object(o["createElementVNode"])("option",null,"適中",-1),s=Object(o["createElementVNode"])("option",null,"濃郁",-1),b=[l,i,d,s],p={class:"container pb-5"},u={class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 bg-light g-3"},m={class:"card border-0 mb-4 position-relative position-relative bg-light"},g=["src"],j=Object(o["createElementVNode"])("a",{href:"#",class:"text-dark"},[Object(o["createElementVNode"])("i",{class:"far fa-heart position-absolute",style:{right:"16px",top:"16px"}})],-1),O={class:"card-body p-0 text-center"},f={class:"mt-3 fs-5 text-dark"},v={class:"card-text text-muted mb-0"},h={class:"badge badge-outline rounded-pill bg-secondary"},E={key:0},y={class:"text-muted"},N={key:1},V={class:"text-muted mb-0"},k={class:"text-danger"},x=["onClick"],D=["onClick"];function w(e,t,c,l,i,d){var s=this,w=Object(o["resolveComponent"])("Loading"),$=Object(o["resolveComponent"])("Pagination"),S=Object(o["resolveComponent"])("ProductModal");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",a,[Object(o["createVNode"])(w,{active:i.isLoading,"z-index":1060},null,8,["active"]),Object(o["createElementVNode"])("div",n,[Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("select",{class:"form-select text-secondary bg-light rounded","aria-label":"Default select example",onChange:t[0]||(t[0]=function(e){return d.getProducts("1",s.$refs.selectItem.value)}),ref:"selectItem"},b,544)])])]),Object(o["createElementVNode"])("div",p,[Object(o["createElementVNode"])("div",u,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(i.products,(function(t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"col",key:t.id},[Object(o["createElementVNode"])("div",m,[Object(o["createElementVNode"])("img",{src:t.imageUrl,class:"card-img-top rounded-0 w-100 object-fit",alt:"...",style:{height:"200px"}},null,8,g),j,Object(o["createElementVNode"])("div",O,[Object(o["createElementVNode"])("h4",f,Object(o["toDisplayString"])(t.title),1),Object(o["createElementVNode"])("p",v,[Object(o["createElementVNode"])("span",h,Object(o["toDisplayString"])(t.category),1)]),t.price===t.origin_price?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",E,[Object(o["createElementVNode"])("p",y," 售價 NT$"+Object(o["toDisplayString"])(e.$filters.currency(t.origin_price)),1)])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",N,[Object(o["createElementVNode"])("p",V,[Object(o["createElementVNode"])("del",null,"原價 NT$"+Object(o["toDisplayString"])(e.$filters.currency(t.origin_price)),1)]),Object(o["createElementVNode"])("p",k," 優惠價 NT$"+Object(o["toDisplayString"])(e.$filters.currency(t.price)),1)])),Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-sm btn-outline-dark rounded mb-2 w-100",onClick:Object(o["withModifiers"])((function(e){return d.getMore(t.id)}),["prevent"])}," 產品介紹 ",8,x),Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-sm btn-outline-dark rounded mb-2 w-100",onClick:Object(o["withModifiers"])((function(e){return d.addToCart(t.id)}),["prevent"])}," 加入購物車 ",8,D)])])])})),128))]),Object(o["createVNode"])($,{onEmitPages:d.getProducts,pages:i.pagination},null,8,["onEmitPages","pages"])]),Object(o["createVNode"])(S,{ref:"productModal","modal-data":i.product,onAddToCart:d.addToCart},null,8,["modal-data","onAddToCart"])],64)}c("99af");var $=c("1799"),S=(c("a4d3"),c("e01a"),{class:"modal fade",id:"productModal",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true",ref:"modal"}),B={class:"modal-dialog modal-xl"},M={class:"modal-content"},C={class:"modal-header bg-dark text-white"},L={class:"modal-title",id:"productModalLabel"},P=Object(o["createElementVNode"])("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),T={class:"modal-body"},q={class:"row"},_={class:"col-sm-6"},U=["src","alt"],A={class:"col-sm-6"},F={class:"badge mb-1 bg-secondary rounded-pill fs-7"},I=Object(o["createElementVNode"])("h4",{class:"fs-6"},"商品描述:",-1),J={class:"fs-7"},z=Object(o["createElementVNode"])("h4",{class:"fs-6 mt-3"},"商品內容:",-1),G={class:"fs-7"},H={key:0},K={class:"h5"},Q={key:1},R={class:"h6 text-secondary"},W={class:"h5 fw-bold text-danger"},X={class:"input-group mb-3"},Y=["disabled"];function Z(e,t,c,a,n,r){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",S,[Object(o["createElementVNode"])("div",B,[Object(o["createElementVNode"])("div",M,[Object(o["createElementVNode"])("div",C,[Object(o["createElementVNode"])("h5",L,Object(o["toDisplayString"])(c.modalData.title),1),P]),Object(o["createElementVNode"])("div",T,[Object(o["createElementVNode"])("div",q,[Object(o["createElementVNode"])("div",_,[Object(o["createElementVNode"])("img",{class:"img-fluid object-fit",src:c.modalData.imageUrl,alt:c.modalData.title},null,8,U)]),Object(o["createElementVNode"])("div",A,[Object(o["createElementVNode"])("h5",null,[Object(o["createElementVNode"])("span",F,Object(o["toDisplayString"])(c.modalData.category),1)]),I,Object(o["createElementVNode"])("p",J,Object(o["toDisplayString"])(c.modalData.description),1),z,Object(o["createElementVNode"])("p",G,Object(o["toDisplayString"])(c.modalData.content),1),c.modalData.price&&c.modalData.origin_price!==c.modalData.price?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Q,[Object(o["createElementVNode"])("del",R,"售價："+Object(o["toDisplayString"])(c.modalData.origin_price),1),Object(o["createElementVNode"])("div",W," 優惠價："+Object(o["toDisplayString"])(c.modalData.price),1)])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",H,[Object(o["createElementVNode"])("p",K,Object(o["toDisplayString"])(c.modalData.origin_price),1)])),Object(o["createElementVNode"])("div",X,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"number",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(e){return n.qty=e}),min:"1"},null,512),[[o["vModelText"],n.qty,void 0,{number:!0}]]),Object(o["createElementVNode"])("button",{disabled:n.qty<=0||!n.qty,class:"btn btn-outline-dark",type:"button",onClick:t[1]||(t[1]=function(t){return e.$emit("add-to-cart",c.modalData.id,n.qty)})}," 加入購物車 ",8,Y)])])])])])])],512)}var ee=c("e0ae"),te={props:{modalData:{type:Object}},data:function(){return{modal:"",qty:1}},mixins:[ee["a"]]},ce=c("6b0d"),oe=c.n(ce);const ae=oe()(te,[["render",Z]]);var ne=ae,re=c("4dcd"),le={data:function(){return{products:[],pagination:{},currentPage:1,isLoading:!1,product:{}}},methods:{getProducts:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c=arguments.length>1?arguments[1]:void 0;this.isLoading=!0,this.currentPage=t;var o="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("jasper07301","/products?page=").concat(t);c&&(o="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("jasper07301","/products?page=").concat(t,"&category=").concat(c)),this.$http.get(o).then((function(t){e.isLoading=!1,e.products=t.data.products,e.pagination=t.data.pagination})).catch((function(){e.isLoading=!1,e.$swal.fire("失敗","產品列表","error")}))},addToCart:function(e){var t=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("jasper07301","/cart"),a={data:{product_id:e,qty:c}};this.$http.post(o,a).then((function(){t.$swal.fire({title:"成功",text:"加入購物車",icon:"success",timer:3e3}),re["a"].emit("get-cart"),t.$refs.productModal.hideModal()})).catch((function(){t.$swal.fire({title:"失敗",text:"加入購物車",icon:"error",timer:3e3})}))},getMore:function(e){var t=this;this.isLoading=!0;var c="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("jasper07301","/product/").concat(e);this.$http.get(c).then((function(e){t.isLoading=!1,t.product=e.data.product,t.$refs.productModal.openModal()})).catch((function(){t.isLoading=!1,t.$swal.fire({title:"失敗",text:"查看",icon:"error",timer:3e3})}))}},mounted:function(){this.getProducts()},components:{Pagination:$["a"],ProductModal:ne}};const ie=oe()(le,[["render",w]]);t["default"]=ie},e01a:function(e,t,c){"use strict";var o=c("23e7"),a=c("83ab"),n=c("da84"),r=c("e330"),l=c("1a2d"),i=c("1626"),d=c("3a9b"),s=c("577e"),b=c("9bf2").f,p=c("e893"),u=n.Symbol,m=u&&u.prototype;if(a&&i(u)&&(!("description"in m)||void 0!==u().description)){var g={},j=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:s(arguments[0]),t=d(m,this)?new u(e):void 0===e?u():u(e);return""===e&&(g[t]=!0),t};p(j,u),j.prototype=m,m.constructor=j;var O="Symbol(test)"==String(u("test")),f=r(m.toString),v=r(m.valueOf),h=/^Symbol\((.*)\)[^)]+$/,E=r("".replace),y=r("".slice);b(m,"description",{configurable:!0,get:function(){var e=v(this),t=f(e);if(l(g,e))return"";var c=O?y(t,7,-1):E(t,h,"$1");return""===c?void 0:c}}),o({global:!0,forced:!0},{Symbol:j})}}}]);
//# sourceMappingURL=chunk-06489003.dc290009.js.map